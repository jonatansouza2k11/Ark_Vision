# üîê ARK YOLO System - Environment Configuration
# ============================================
# IMPORTANTE: Este √© seu arquivo .env de PRODU√á√ÉO LOCAL
# Este arquivo NUNCA deve ser commitado (est√° no .gitignore)


# ============================================
# FLASK CONFIGURATION
# ============================================

# Secret key para session encryption
FLASK_SECRET_KEY=b88f5a73d9ef621b2fac81480482b0a29ce8d014b271fe6e729033cf37224f2e

# Flask environment
FLASK_ENV=production
FLASK_DEBUG=false

# Server configuration
FLASK_HOST=0.0.0.0
FLASK_PORT=5000


# ============================================
# DATABASE CONFIGURATION
# ============================================

# SQLite database path (relativo ao projeto)
DATABASE_PATH=cv_system.db


# ============================================
# YOLO CONFIGURATION
# ============================================

# Path to YOLO model file
YOLO_MODEL_PATH=yolo_models/yolov8n.pt

# Video source (0 for webcam, RTSP URL, or HTTP URL)
VIDEO_SOURCE=0

# Default confidence threshold (0.0-1.0)
# ‚ú® AJUSTADO: 0.87 (bom equil√≠brio entre precis√£o e recall)
YOLO_CONF_THRESHOLD=0.87

# Default target width for resizing
# ‚ú® RECOMENDADO: 960 ou 640 ou 480 se continuar tendo memory errors
YOLO_TARGET_WIDTH=960

# Default frame step (process every N-th frame)
# ‚ú® AJUSTADO: 1 para reduzir carga de processamento YOLO
YOLO_FRAME_STEP=1


# ============================================
# TRACKER CONFIGURATION
# ============================================

# Tracking algorithm (botsort.yaml or bytetrack.yaml)
TRACKER=botsort.yaml


# ============================================
# CAMERA CONFIGURATION
# ============================================

# Camera resolution settings
# ‚ú® AJUSTADO: 960x540 para reduzir uso de mem√≥ria significativamente
CAM_WIDTH=960
CAM_HEIGHT=540

# Camera FPS (frames per second)
# ‚ú® AJUSTADO: 30 fps para reduzir carga
CAM_FPS=30


# ============================================
# MEMORY MANAGEMENT CONFIGURATION
# ============================================
# ‚ú® Configura√ß√£o otimizada para prevenir memory errors

# Video buffer size (number of frames)
# ‚ú® REDUZIDO: 20 frames (~1s @20fps) para economizar ~40 MB de RAM
BUFFER_SIZE=40

# Garbage collection interval (frames)
# ‚ú® MAIS AGRESSIVO: 30 frames para cleanup frequente
GC_INTERVAL=50

# Memory warning threshold (MB)
# ‚ú® REDUZIDO: 512 MB para alertar mais cedo
MEMORY_WARNING_THRESHOLD=1024


# ============================================
# INTELLIGENT ZONES CONFIGURATION
# ============================================

# NOTA: As zonas inteligentes s√£o configuradas via dashboard web (/settings)
# Cada zona pode ter seus pr√≥prios valores personalizados

# Safe zone (configurado via dashboard)
SAFE_ZONE=(400,100,700,600)

# DEFAULT: Maximum seconds outside zone before alert
MAX_OUT_TIME=60

# DEFAULT: Email cooldown (seconds between alerts for same person)
# Current: 600s = 10 minutes (prevents email spam)
EMAIL_COOLDOWN=600

# DEFAULT: Buffer seconds for pre-recording before alert
BUFFER_SECONDS=3

# DEFAULT: Zone empty timeout (seconds)
ZONE_EMPTY_TIMEOUT=30

# DEFAULT: Zone full timeout (seconds)
ZONE_FULL_TIMEOUT=60

# DEFAULT: Zone full threshold (number of people)
ZONE_FULL_THRESHOLD=10


# ============================================
# EMAIL CONFIGURATION (Gmail SMTP)
# ============================================

# Gmail sender email
EMAIL_SENDER=jonatandj2k14@gmail.com

# Gmail App Password (NOT regular password!)
EMAIL_APP_PASSWORD=isozasiyvtxvmpcb

# SMTP server configuration
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true

# Email recipients (comma-separated)
EMAIL_RECIPIENTS=jonatandj2k14@gmail.com


# ============================================
# LOGGING CONFIGURATION
# ============================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path
LOG_FILE=logs/ark_yolo.log


# ============================================
# SECURITY CONFIGURATION
# ============================================

# Password hashing rounds (higher = slower but more secure)
PASSWORD_HASH_ROUNDS=10

# Session timeout (minutes)
SESSION_TIMEOUT=1440

# Enable CORS (for development only!)
CORS_ENABLED=false


# ============================================
# PERFORMANCE CONFIGURATION
# ============================================

# Use GPU if available (true/false)
USE_GPU=false

# Number of worker threads for Flask
WORKER_THREADS=4

# Maximum concurrent frame processing
MAX_CONCURRENT_FRAMES=2


# ============================================
# DEVELOPMENT CONFIGURATION
# ============================================

# Enable debug mode (NUNCA em produ√ß√£o!)
DEBUG_MODE=false

# Enable detailed error messages
VERBOSE_ERRORS=false

# Enable test mode (uses mock data)
TEST_MODE=false


# ============================================
# OPTIONAL: IP CAMERA CONFIGURATION
# ============================================

# If using IP camera with authentication
CAMERA_USERNAME=admin
CAMERA_PASSWORD=camera-password

# Camera URL examples:
# RTSP: rtsp://user:pass@192.168.1.100:554/stream
# HTTP: http://192.168.1.100:8080/video
# VIDEO_SOURCE=rtsp://admin:password@192.168.1.100:554/stream


# ============================================
# üéØ PRESETS: SYSTEM PROFILES
# ============================================

# Descomente UM dos presets abaixo para configurar rapidamente para seu hardware
# ‚ö†Ô∏è Se usar preset, comente as configura√ß√µes individuais acima para evitar conflito

# ---- PRESET: LOW-END SYSTEM (< 4GB RAM, no GPU) ----
# Recomendado se: voc√™ tem memory errors frequentes, RAM < 4GB, CPU antigo
# CAM_WIDTH=640
# CAM_HEIGHT=480
# CAM_FPS=20
# YOLO_TARGET_WIDTH=480
# YOLO_FRAME_STEP=3
# BUFFER_SIZE=20
# GC_INTERVAL=30
# MEMORY_WARNING_THRESHOLD=512

# ---- PRESET: BALANCED SYSTEM (4-8GB RAM, integrated GPU) ----
# Recomendado se: RAM 4-8GB, GPU integrada ou CPU moderno, uso geral - DEFAULT
# CAM_WIDTH=960
# CAM_HEIGHT=540
# CAM_FPS=30
# YOLO_TARGET_WIDTH=960
# YOLO_FRAME_STEP=2
# BUFFER_SIZE=40
# GC_INTERVAL=50
# MEMORY_WARNING_THRESHOLD=1024

# ---- PRESET: HIGH-END SYSTEM (8GB+ RAM, dedicated GPU) ----
# Recomendado se: RAM 8-16GB, GPU dedicada (GTX/RTX), qualidade priorit√°ria
# CAM_WIDTH=1280
# CAM_HEIGHT=720
# CAM_FPS=30
# YOLO_TARGET_WIDTH=1280
# YOLO_FRAME_STEP=1
# BUFFER_SIZE=60
# GC_INTERVAL=75
# MEMORY_WARNING_THRESHOLD=1536
# USE_GPU=true

# ---- PRESET: ULTRA SYSTEM (16GB+ RAM, RTX GPU, high-res IP cam) ----
# Recomendado se: RAM 16GB+, GPU RTX 3060+, c√¢mera IP 4K, servidor dedicado
# CAM_WIDTH=1920
# CAM_HEIGHT=1080
# CAM_FPS=30
# YOLO_TARGET_WIDTH=1280
# YOLO_FRAME_STEP=1
# BUFFER_SIZE=90
# GC_INTERVAL=100
# MEMORY_WARNING_THRESHOLD=2048
# USE_GPU=true
