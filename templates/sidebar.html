{# templates/sidebar.html #}
{% if user %}
  {% set username = user.get('username') %}
  {% set role = user.get('role') %}
{% else %}
  {% set username = '' %}
  {% set role = '' %}
{% endif %}

<aside id="app-sidebar"
       class="bg-dark-card border-r border-dark-border h-screen flex flex-col transition-all duration-200 ease-in-out w-64 overflow-hidden">

  <div class="px-2 py-4 border-b border-dark-border flex items-center justify-between">
    <div class="flex items-center gap-3 overflow-hidden">
      <div class="w-9 h-9 rounded-lg bg-dark-bg flex items-center justify-center font-bold text-accent-blue">
        A
      </div>

      <div class="sidebar-label whitespace-nowrap">
        <div class="text-sm font-bold leading-4">ARK</div>
        <div class="text-xs text-gray-400">YOLO Monitoring</div>
      </div>
    </div>

    <button id="sidebar-toggle"
            type="button"
            class="btn btn-ghost btn-sm px-2"
            aria-label="Recolher/Expandir menu lateral">
      <span id="sidebar-toggle-icon" class="text-sm select-none">âŸ¨âŸ¨</span>
    </button>
  </div>

  <nav class="flex-1 px-2 py-3 space-y-1" aria-label="Menu principal">
    <a href="{{ url_for('dashboard') }}"
       class="flex items-center gap-3 px-3 py-3 rounded-lg {% if active == 'dashboard' %}bg-dark-bg{% else %}hover:bg-dark-bg{% endif %}">
      <span class="w-6 text-center">ğŸ </span>
      <span class="sidebar-label whitespace-nowrap">Dashboard</span>
    </a>

    <a href="{{ url_for('logs') }}"
       class="flex items-center gap-3 px-3 py-3 rounded-lg {% if active == 'logs' %}bg-dark-bg{% else %}hover:bg-dark-bg{% endif %}">
      <span class="w-6 text-center">ğŸ“„</span>
      <span class="sidebar-label whitespace-nowrap">Logs</span>
    </a>

    {% if role == 'admin' %}
      <a href="{{ url_for('users') }}"
         class="flex items-center gap-3 px-3 py-3 rounded-lg {% if active == 'users' %}bg-dark-bg{% else %}hover:bg-dark-bg{% endif %}">
        <span class="w-6 text-center">ğŸ‘¤</span>
        <span class="sidebar-label whitespace-nowrap">UsuÃ¡rios</span>
      </a>

      <a href="{{ url_for('settings') }}"
         class="flex items-center gap-3 px-3 py-3 rounded-lg {% if active == 'settings' %}bg-dark-bg{% else %}hover:bg-dark-bg{% endif %}">
        <span class="w-6 text-center">âš™ï¸</span>
        <span class="sidebar-label whitespace-nowrap">ConfiguraÃ§Ãµes</span>
      </a>
    {% endif %}
  </nav>

  <div class="px-2 py-3 border-t border-dark-border">
    <a href="{{ url_for('logout') }}"
       class="flex items-center gap-3 px-3 py-3 rounded-lg bg-red-900 hover:bg-red-800">
      <span class="w-6 text-center">â‹</span>
      <span class="sidebar-label whitespace-nowrap">Logout</span>
    </a>

    <div class="sidebar-label text-xs text-gray-400 mt-3 px-3 overflow-hidden whitespace-nowrap">
      Logado: {{ username }}
    </div>
  </div>

</aside>
